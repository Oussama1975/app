{"ast":null,"code":"import axios from 'axios';\n\n// const fetchData = async () => {\n//     try {\n//         const response = await axios.get('http://localhost:3001/students');\n//         // console.log(response.data);\n//         return response.data;\n//     } catch (error) {\n//         console.error('Error fetching data:', error);\n//         return []; // Return an empty array or handle the error as needed\n//     }\n// };\n\n// const initialState = {\n//     infoContacts: [] // Initialize with an empty array\n// };\n\n// // Fetch data asynchronously in the initialization of the reducer\n// fetchData()\n//     .then(data => {\n//         initialState.infoContacts = data;\n//     })\n//     .catch(error => {\n//         console.error('Error setting initial state:', error);\n//     });\nconst initialState = {\n  infoContacts: [],\n  loading: true,\n  error: null\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_DATA_SUCCESS':\n      return {\n        ...state,\n        infoContacts: action.payload,\n        loading: false,\n        error: null\n      };\n    case 'FETCH_DATA_FAILURE':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case \"AddContact\":\n      axios.post(\"http://localhost:3001/students/create\", action.payload).then(response => {\n        // Handle success if needed\n        console.log(response.data);\n      }).catch(error => {\n        // Handle error if needed\n        console.error('Error adding contact:', error);\n      });\n    case \"EditeContact\":\n      const contact = state.infoContacts.find(item => item._id == action.payload._id);\n      console.log(contact);\n      if (contact) {\n        contact.nom = action.payload.nom;\n        contact.prenom = action.payload.prenom;\n      }\n      return state;\n    case \"DetailContact\":\n      return {};\n    case \"DeleteContact\":\n      axios.delete(`http://localhost:3001/students/delete/${action.payload}`).then(response => {\n        // Handle success if needed\n        console.log(response.data);\n      }).catch(error => {\n        // Handle error if needed\n        console.error('Error deleting contact:', error);\n      });\n      return state;\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["axios","initialState","infoContacts","loading","error","reducer","state","action","type","payload","post","then","response","console","log","data","catch","contact","find","item","_id","nom","prenom","delete"],"sources":["C:/Users/hp/Desktop/ramadanProjet/client/src/Atelier3/reducer.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// const fetchData = async () => {\r\n//     try {\r\n//         const response = await axios.get('http://localhost:3001/students');\r\n//         // console.log(response.data);\r\n//         return response.data;\r\n//     } catch (error) {\r\n//         console.error('Error fetching data:', error);\r\n//         return []; // Return an empty array or handle the error as needed\r\n//     }\r\n// };\r\n\r\n// const initialState = {\r\n//     infoContacts: [] // Initialize with an empty array\r\n// };\r\n\r\n// // Fetch data asynchronously in the initialization of the reducer\r\n// fetchData()\r\n//     .then(data => {\r\n//         initialState.infoContacts = data;\r\n//     })\r\n//     .catch(error => {\r\n//         console.error('Error setting initial state:', error);\r\n//     });\r\nconst initialState = {\r\n    infoContacts: [],\r\n    loading: true,\r\n    error: null\r\n};\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_DATA_SUCCESS':\r\n            return {\r\n                ...state,\r\n                infoContacts: action.payload,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case 'FETCH_DATA_FAILURE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            };\r\n        case \"AddContact\":\r\n            axios.post(\"http://localhost:3001/students/create\", action.payload)\r\n                .then(response => {\r\n                    // Handle success if needed\r\n                    console.log(response.data);\r\n                })\r\n                .catch(error => {\r\n                    // Handle error if needed\r\n                    console.error('Error adding contact:', error);\r\n                });\r\n\r\n\r\n        case \"EditeContact\":\r\n            const contact = state.infoContacts.find((item) => item._id == action.payload._id);\r\n            console.log(contact)\r\n            if (contact) {\r\n                contact.nom = action.payload.nom;\r\n                contact.prenom = action.payload.prenom;\r\n            }\r\n            return state;\r\n\r\n        case \"DetailContact\":\r\n            return {};\r\n\r\n        case \"DeleteContact\":\r\n            axios.delete(`http://localhost:3001/students/delete/${action.payload}`)\r\n            .then(response => {\r\n                // Handle success if needed\r\n                console.log(response.data);\r\n            })\r\n            .catch(error => {\r\n                // Handle error if needed\r\n                console.error('Error deleting contact:', error);\r\n            });\r\n            return state\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport default reducer;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,YAAY,GAAG;EACjBC,YAAY,EAAE,EAAE;EAChBC,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;AACX,CAAC;AACD,MAAMC,OAAO,GAAGA,CAACC,KAAK,GAAGL,YAAY,EAAEM,MAAM,KAAK;EAC9C,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,oBAAoB;MACrB,OAAO;QACH,GAAGF,KAAK;QACRJ,YAAY,EAAEK,MAAM,CAACE,OAAO;QAC5BN,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC;IACL,KAAK,oBAAoB;MACrB,OAAO;QACH,GAAGE,KAAK;QACRH,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEG,MAAM,CAACE;MAClB,CAAC;IACL,KAAK,YAAY;MACbT,KAAK,CAACU,IAAI,CAAC,uCAAuC,EAAEH,MAAM,CAACE,OAAO,CAAC,CAC9DE,IAAI,CAACC,QAAQ,IAAI;QACd;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC9B,CAAC,CAAC,CACDC,KAAK,CAACZ,KAAK,IAAI;QACZ;QACAS,OAAO,CAACT,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;IAGV,KAAK,cAAc;MACf,MAAMa,OAAO,GAAGX,KAAK,CAACJ,YAAY,CAACgB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,IAAIb,MAAM,CAACE,OAAO,CAACW,GAAG,CAAC;MACjFP,OAAO,CAACC,GAAG,CAACG,OAAO,CAAC;MACpB,IAAIA,OAAO,EAAE;QACTA,OAAO,CAACI,GAAG,GAAGd,MAAM,CAACE,OAAO,CAACY,GAAG;QAChCJ,OAAO,CAACK,MAAM,GAAGf,MAAM,CAACE,OAAO,CAACa,MAAM;MAC1C;MACA,OAAOhB,KAAK;IAEhB,KAAK,eAAe;MAChB,OAAO,CAAC,CAAC;IAEb,KAAK,eAAe;MAChBN,KAAK,CAACuB,MAAM,CAAE,yCAAwChB,MAAM,CAACE,OAAQ,EAAC,CAAC,CACtEE,IAAI,CAACC,QAAQ,IAAI;QACd;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC9B,CAAC,CAAC,CACDC,KAAK,CAACZ,KAAK,IAAI;QACZ;QACAS,OAAO,CAACT,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACnD,CAAC,CAAC;MACF,OAAOE,KAAK;IAEhB;MACI,OAAOA,KAAK;EACpB;AAEJ,CAAC;AAED,eAAeD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}